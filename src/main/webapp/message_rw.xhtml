<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
   <h:head>
      <title>#{msgs.msgTitle}</title>
   </h:head>
   <h:body>
      <h:panelGrid columns="2">
         <div>
            <h:form>
               <h:commandButton value="#{msgs.homeLogoutButton}" action="#{home.doLogout}"/>
            </h:form>

            <h:outputText value="#{msgs.usersListTitle}"
                          style="font-style: italic; font-size: 1.5rem"/>
            <h:form>
               <p>Send to:   </p>
               <h:selectOneMenu value="#{userListBean.selectedUser}" onchange="submit()">
                  <f:selectItems value="#{userListBean.userListResponse}" var="userName" itemValue="#{userName}"/>
               </h:selectOneMenu>
               <br />
               <h:inputText value="#{message_rw.enteredMessage}" /><br/>
               <h:commandButton value="Submit" action="#{message_rw.postNewMessage}" />
               <h:commandButton value="Get Messages"/>
            </h:form>
         </div>
         <div>
            <ui:repeat value="#{message_rw.myMessages}" var="msg">
               <h:panelGrid columns="3" style="border: 2px solid black; padding-left: 10px; margin: auto; width: 90%">
                  <tr>
                     <td style="width: 5%">From: </td>
                     <td><h:outputText value="#{msg[0]}" /></td>
<!--                     <td rowspan="3" style="text-align: center;background-color: #ca3434">Delete</td>-->
                  </tr>
                  <tr>
                     <td style="width: 5%">To: </td>
                     <td><h:outputText value="#{msg[1]}" /></td>
                  </tr>
                  <tr>
                     <td style="width: 5%">Date: </td>
                     <td><h:outputText value="#{msg[2]}"  /></td>
                  </tr>
                  <tr>
                     <td style="width: 5%">Message: </td>
                     <td> <h:outputText value="#{msg[3]}" /></td>
                  </tr>
                  <tr>
                     <td><h:button value="Delete" onclick="#{message_rw.deleteMyMessage(msg)}"/></td>
                  </tr>
               </h:panelGrid>
            </ui:repeat>
         </div>
      </h:panelGrid>
   </h:body>
</html>
